{% extends "base.html" %}
{% block title %}Available Scholarships{% endblock %}

{% block content %}
<h2 class="mb-4">Available Scholarships</h2>

<table class="table table-bordered table-hover align-middle">
    <thead class="table-dark">
        <tr>
            <th style="width: 20%;">Name</th>
            <th style="width: 35%;">Details</th>
            <th style="width: 25%;">Requirements</th>
            <th style="width: 10%;">Deadline</th>
            <th style="width: 10%;">Action</th>
        </tr>
    </thead>

    <tbody>
        {% for scholarship in scholarships %}
        <tr>
            <!-- Scholarship Title -->
            <td>
                <strong>{{ scholarship.title }}</strong>
            </td>

            <!-- Description -->
            <td>
                {{ scholarship.description }}
            </td>

            <!-- Requirements (bullet list) -->
            <td>
                {% if scholarship.req_lines and scholarship.req_lines|length > 0 %}
                    <ul class="mb-0">
                        {% for item in scholarship.req_lines %}
                            <li>{{ item }}</li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <span class="text-muted">No requirements specified</span>
                {% endif %}
            </td>

            <!-- Deadline -->
            <td>
                {% if scholarship.application_deadline %}
                    {{ scholarship.application_deadline.strftime('%d %b %Y') }}
                {% else %}
                    N/A
                {% endif %}
            </td>

            <!-- Apply Button -->
            <td>
                <a href="{{ url_for('student.apply', scholarship_id=scholarship.id) }}"
                   class="btn btn-success btn-sm">
                    Apply
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
