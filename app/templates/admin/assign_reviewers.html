{% extends "base.html" %}
{% block title %}Assign Reviewers{% endblock %}

{% block content %}
<h2 class="mb-3">Assign Reviewers</h2>

<p class="text-muted">
  Application ID: <b>{{ application.id }}</b>
</p>

<form method="POST">
  {{ form.hidden_tag() }}

  <div class="mb-3">
    <label class="form-label">{{ form.reviewers.label }}</label>
    {{ form.reviewers(class="form-select", multiple=true) }}
    <div class="form-text">Hold Ctrl (Windows) to select multiple reviewers.</div>
    {% for e in form.reviewers.errors %}
      <div class="text-danger">{{ e }}</div>
    {% endfor %}
  </div>

  <button type="submit" class="btn btn-primary">Assign Selected Reviewers</button>
  <a href="{{ url_for('admin.manage_applications') }}" class="btn btn-secondary">Back</a>
</form>

<hr>

<h5>Already Assigned Reviewers</h5>
<ul>
  {% for r in reviewers %}
    {% if r.id in assigned_reviewer_ids %}
      <li>{{ r.username }} (ID: {{ r.id }})</li>
    {% endif %}
  {% else %}
    <li class="text-muted">No reviewers assigned yet.</li>
  {% endfor %}
</ul>

{% endblock %}
